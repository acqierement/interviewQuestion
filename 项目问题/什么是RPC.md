什么是rpc？

## RPC三大要点

RPC全称是Remote Procedure Call，远程过程调用。也就是调用其他机器的方法。

我们可以自己想一下要怎么实现去调用其他机器的方法。

首先我们需要知道去哪里调用我们需要的服务。

因为服务端可能提供了很多个远程服务，也有可能多个进程部署在一个机器，为了防止端口冲突，往往使用随机端口，那我们要怎么知道访问哪个端口呢？这就涉及到**服务发现**的问题。

然后是如何传递参数呢？

如果有两个参数，要先传第一个还是第二个？TCP一端发送出去的数据，另外一端不能全部读取，怎么才算读完？还有一个类里面有各种数据，这些数据要怎么表示？这就需要有一个统一的方案，称之为**协议约定问题**。

最后其实就是**传输问题**，因为我们远程调用肯定需要解决网络问题，如果发生了错误、重传、丢包、性能等问题怎么办？

下面来看一下各个要点的实现。

## 协议约定

其实