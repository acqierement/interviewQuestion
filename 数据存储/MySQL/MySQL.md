# MySQL

## MySQL的存储引擎，两种的区别

是否支持行锁 、 是否支持十五 、 是否支持 MVCC 、 底层索引结构不同

mysql存储引擎都有啥？

 innodb和myisam都是什么？

innodb和myisam哪个性能高

## innodb的默认读是什么；innodb可重复度的实现原理

（mvvc+next-key lock)

## 事务特性ACID

深入一些 ： 为什么要有一致性 ？ AID不是已经保证了一致性了吗 ？

## MySQL中的事务隔离级别

## 自增主键进行写的时候会用什么事务隔离级别（读未提交）

##  MVCC机制

## 索引

B+树为什么好，什么列适合建立索引？一个表User（name，age,sex）,sex适合建立索引吗，为什么？

普通索引什么情况下失效

唯一索引和普通索引底层得设计区别

为什么索引使用B+树结构，而不是B树

为什么索引使用B+树结构，而不是红黑树 ： {  磁盘预读取 、红黑树高度 }

聚簇索引和非聚簇索引区别？ 主键索引和二级索引了解吗？

为什么不对每个列创建索引呢？

回表

索引用b+树实现每次读取的时候操作系统的动作；

B+tree相比于Btree优点是什么

B+树非叶子节点存放了什么？

B+树如何利用磁盘预读特性？（因为B+树存了key，key接近）

## explain中 rows type key extra字段的含义？

## count(1) count(*) count(列值)的区别

## 连接池是怎么回事，ajax干什么的

## mysql一级缓存二级缓存

## 数据库几大范式

## mysql 的默认隔离级别

## hash索引，索引结构B+树

## 二叉树和B+树的区别

1. B+树所有数据都在叶子节点，每次查找时间稳定
2. 叶子节点都有指向下一个叶子节点的指针，范围查找比较方便

那如果把二叉树弄成，所有数据都存在叶子节点呢？

二叉树，如果删除的话，可能会变成线性树，时间复杂度变高

如果平衡二叉树呢？

记得好像磁盘存储是用的b+树结构，索引是存在磁盘上的，用B+树会减少IO操作

磁盘上怎么存储这些数据的？

## 怎么解决慢查询

## 什么情况使用不到索引

## sql语句的执行流程

## 覆盖索引的实现

## 如何优化SQL语句？

讲了一下索引的优化，最左匹配原则、索引失效情况和索引区分度

## 一致性视图

## 日志模块：undo log，redo log和binglog

## 间隙锁，幻读，MVCC

## SQL优化实战

## 数据库读写分离、分库分表；

## jdbc连接mysql的几个步骤、为什么要加载驱动呢，原理是什么、PreparedStatement和Statement区别、返回结果如何查询

>  1、首先注册驱动啊？怎么注册？反射啊，Class.forName("xx.xx.xx.Driver");底层怎么实现的？静态代码，DriverManager.registerDriver?启动的时候，会自动调用静态代码块的内容。
> 
>  2、接下来就是获取连接啊，怎么连接？远程连接(三次握手操作)，连接放哪里？作为资源必须放池子里。这样能提高性能。常见的连接池有DBCP，C3P0，传说中最安全，性能最好的Druid(国产)，而且还能监控。
> 
>  3、你总的有SQL语句吧，之后就是Statement编译那。这里会出现SQL注入的安全问题。在语句后面加"1=1"成立。所以我们采用预编译的方式，PreparedStatement。可以防止这种问题的出现。
> 
>  4、查完之后获取结果集。rs.getString().
> 
>  5、头疼的来了，释放资源。各种 if(xx != nu) {try{ xx.close();}catch{}} 不用担心JDK8 出来一个新特性，可以放在try-withresource中。还有各种异常可以采用通道的形式 XxxException | XxxException
> 
>  6、各种异常需要你放到一个try{}catch{}中，出问题你也不知道问题在哪里？
> 
>  麻烦吗？不用担心，我们可以封装成一个工具类，需要的时候调用工具类.getConnection();
> 
>  还是麻烦啊，可以用Spring框架为我们集成提供了jdbcTemplate，HibernaterTemplate。用模板代码消除了大量的样板代码。
>
>遍历结果集，叭叭

## InnoDB如何实现悲观锁的

## jvm接收到monitorenter的时候，会执行什么操作

我说了给monitor变量+1，面试官说这个可能问的有点深了，下一个吧

## MySQL语法，海量数据分页吧，用什么实现

## MySQL用的什么版本，5.5和5.7版本的一个区别

## select count(*) form 表 用哪个引擎快一点

## 组合索引是a，b   where a = 1 ,b = 2 OR b =3 走索引吧

## 如何查看慢查询

## 如何查看SQL语句的每一个查询计划，就是每一步消化多少毫秒

## 你自己还可以讲一下其他SQL语句优化

## 非关系型数据库了解过什么，跟MySQL有啥区别

## 查看一条数据，数据不存在，怎么加锁的

## char和varchar的区别，为什么不同

## 数据库怎样建合适的索引

## 事务操作进行到一半数据库断电了怎么办

## 数据库分库分表

## 什么时候是行锁，什么时候是表锁？

## mysql如何性能调优？比较缓慢的话，从哪个方面优化？

## 一条mysql查询经历了什么

##  一条mysql更新经历了什么？

## 更新的时候索引如何更新，描述一下算法

## 隔离级别是通过什么原理实现的

## mysql的默认隔离级别，oracle默认的是？

## 数据库如何实现回滚到一天前？

##  数据库的备份怎么实现的？

## 什么是冷备份什么是热备份

## mysql读的很慢的原因怎么查询（慢查询日志和expalin）

## SQL注入攻击

## 加锁加在B+树的哪个地方

## 哈希索引存的数据大小没有b树多

## 什么叫不可重复度

## MVCC能解决幻读吗？

## B+树最大的优点

##  一个节点能够存储多少数据

## MYSQL日志分为几种

## 如何保证回滚

## 数据库中事务到底是mvcc回滚还是日志回滚

## mysql更新了数据日志文件有什么改变

## 索引的优化、分析SQL的时候你会关注的字段、索引的选择

## Hash索引和B+数索引的区别

索引，数据结构，锁，隔离级别，MVCC，如何解决串行化，间隙锁，创建索引注意事项，

（面试官基本上都会在回答后再问为什么😓）

## 联合索引，怎么建

## mysql挂了怎么后续处理

## 分页查询页数很大效率低怎么办，join 连接主键优化

## redis事务与mysql事务的区别

## 这仨语句怎么建索引

​	select * from A join B on A.a=B.b;

 	select * from A left join B on A.a=B.b; 	

 	select * from A right join B on A.a=B.b;

##  MySQL集群。假如集群出现延迟怎么处理。

